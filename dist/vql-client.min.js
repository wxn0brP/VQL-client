var VQLClient=(()=>{var u=Object.defineProperty;var L=Object.getOwnPropertyDescriptor;var h=Object.getOwnPropertyNames;var T=Object.prototype.hasOwnProperty;var R=(t,r)=>{for(var a in r)u(t,a,{get:r[a],enumerable:!0})},q=(t,r,a,s)=>{if(r&&typeof r=="object"||typeof r=="function")for(let o of h(r))!T.call(t,o)&&o!==a&&u(t,o,{get:()=>r[o],enumerable:!(s=L(r,o))||s.enumerable});return t};var x=t=>q(u({},"__esModule",{value:!0}),t);var m={};R(m,{defaultFetchTransport:()=>i,fetchVQL:()=>V,initVQLClient:()=>Q,resetVQLClient:()=>f});var l=i,e={},w="/VQL";function Q(t){t.transport&&(l=t.transport),t.hooks&&(e=t.hooks),t.defaultFetchUrl&&(w=t.defaultFetchUrl)}async function V(t,r={}){var s,o,y,p;let a=Date.now();try{(s=e.onStart)==null||s.call(e,t,r);let n=await l(t),c=Date.now()-a;if((o=e.onEnd)==null||o.call(e,t,c,n,r),n!=null&&n.err){let d=new Error(n.err);throw(y=e.onError)==null||y.call(e,t,d,n,r),d}return n.result!==void 0?n.result:n}catch(n){throw(p=e.onError)==null||p.call(e,t,n),n}}function f(){l=i,e={}}async function i(t){let r=await fetch(w,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:t})});if(!r.ok)throw new Error(`VQL request failed: ${r.status}`);return await r.json()}typeof window!="undefined"&&(window.VQLClient={fetchVQL:V,initVQLClient:Q,resetVQLClient:f,defaultFetchTransport:i});return x(m);})();
