var VQLClient=(()=>{var u=Object.defineProperty;var c=Object.getOwnPropertyDescriptor;var L=Object.getOwnPropertyNames;var T=Object.prototype.hasOwnProperty;var h=(r,t)=>{for(var a in t)u(r,a,{get:t[a],enumerable:!0})},R=(r,t,a,s)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of L(t))!T.call(r,o)&&o!==a&&u(r,o,{get:()=>t[o],enumerable:!(s=c(t,o))||s.enumerable});return r};var q=r=>R(u({},"__esModule",{value:!0}),r);var m={};h(m,{defaultFetchTransport:()=>i,fetchVQL:()=>Q,initVQLClient:()=>y,resetVQLClient:()=>V});var l=i,e={},w="/VQL";function y(r){r.transport&&(l=r.transport),r.hooks&&(e=r.hooks),r.defaultFetchUrl&&(w=r.defaultFetchUrl)}async function Q(r){var a,s,o,p;let t=Date.now();try{(a=e.onStart)==null||a.call(e,r);let n=await l(r),f=Date.now()-t;if((s=e.onEnd)==null||s.call(e,r,f,n),n!=null&&n.err){let d=new Error(n.err);throw(o=e.onError)==null||o.call(e,r,d),d}return n.result!==void 0?n.result:n}catch(n){throw(p=e.onError)==null||p.call(e,r,n),n}}function V(){l=i,e={}}async function i(r){let t=await fetch(w,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:r})});if(!t.ok)throw new Error(`VQL request failed: ${t.status}`);return await t.json()}typeof window!="undefined"&&(window.VQLClient={fetchVQL:Q,initVQLClient:y,resetVQLClient:V,defaultFetchTransport:i});return q(m);})();
