var VQLClient=(()=>{var u=Object.defineProperty;var w=Object.getOwnPropertyDescriptor;var T=Object.getOwnPropertyNames;var h=Object.prototype.hasOwnProperty;var x=(t,r)=>{for(var a in r)u(t,a,{get:r[a],enumerable:!0})},E=(t,r,a,s)=>{if(r&&typeof r=="object"||typeof r=="function")for(let o of T(r))!h.call(t,o)&&o!==a&&u(t,o,{get:()=>r[o],enumerable:!(s=w(r,o))||s.enumerable});return t};var m=t=>E(u({},"__esModule",{value:!0}),t);var F={};x(F,{defaultFetchTransport:()=>i,fetchVQL:()=>d,initVQLClient:()=>V,resetVQLClient:()=>c});var Q=i,e={},L="/VQL";function V(t){t.transport&&(Q=t.transport),t.hooks&&(e=t.hooks),t.defaultFetchUrl&&(L=t.defaultFetchUrl)}async function d(t){var a,s,o,p,y;let r=Date.now();try{(a=e.onStart)==null||a.call(e,t);let n=await Q(t),f=Date.now()-r;if((s=e.onEnd)==null||s.call(e,t,f,n),n!=null&&n.err){let l=new Error(n.err);throw(o=e.onError)==null||o.call(e,t,l),l}return(p=n==null?void 0:n.result)!=null?p:n}catch(n){throw(y=e.onError)==null||y.call(e,t,n),n}}function c(){Q=i,e={}}async function i(t){let r=await fetch(L,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:t})});if(!r.ok)throw new Error(`VQL request failed: ${r.status}`);return await r.json()}typeof window!="undefined"&&(window.VQLClient={fetchVQL:d,initVQLClient:V,resetVQLClient:c,defaultFetchTransport:i});return m(F);})();
