var VQLClient=(()=>{var u=Object.defineProperty;var c=Object.getOwnPropertyDescriptor;var w=Object.getOwnPropertyNames;var T=Object.prototype.hasOwnProperty;var h=(r,t)=>{for(var a in t)u(r,a,{get:t[a],enumerable:!0})},x=(r,t,a,s)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of w(t))!T.call(r,o)&&o!==a&&u(r,o,{get:()=>t[o],enumerable:!(s=c(t,o))||s.enumerable});return r};var m=r=>x(u({},"__esModule",{value:!0}),r);var E={};h(E,{defaultFetchTransport:()=>i,fetchVQL:()=>d,initVQLClient:()=>y,resetVQLClient:()=>l});var Q=i,e={},V="/VQL";function y(r){r.transport&&(Q=r.transport),r.hooks&&(e=r.hooks),r.defaultFetchUrl&&(V=r.defaultFetchUrl)}async function d(r){var a,s,o,p;let t=Date.now();try{(a=e.onStart)==null||a.call(e,r);let n=await Q(r),f=Date.now()-t;if((s=e.onEnd)==null||s.call(e,r,f,n),n!=null&&n.err){let L=new Error(n.err);throw(o=e.onError)==null||o.call(e,r,L),L}return n.result!==void 0?n.result:n}catch(n){throw(p=e.onError)==null||p.call(e,r,n),n}}function l(){Q=i,e={}}async function i(r){let t=await fetch(V,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:r})});if(!t.ok)throw new Error(`VQL request failed: ${t.status}`);return await t.json()}typeof window!="undefined"&&(window.VQLClient={fetchVQL:d,initVQLClient:y,resetVQLClient:l,defaultFetchTransport:i});return m(E);})();
