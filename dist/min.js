var VQLClient=(()=>{var s=Object.defineProperty;var L=Object.getOwnPropertyDescriptor;var w=Object.getOwnPropertyNames;var l=Object.prototype.hasOwnProperty;var T=(n,r)=>{for(var a in r)s(n,a,{get:r[a],enumerable:!0})},m=(n,r,a,t)=>{if(r&&typeof r=="object"||typeof r=="function")for(let e of w(r))!l.call(n,e)&&e!==a&&s(n,e,{get:()=>r[e],enumerable:!(t=L(r,e))||t.enumerable});return n};var x=n=>m(s({},"__esModule",{value:!0}),n);var E={};T(E,{VConfig:()=>i,defTransport:()=>Q,fetchVQL:()=>d});var i={transport:Q,hooks:{},url:"/VQL"};async function d(n,r={}){var u,f,p,c;let{transport:a,hooks:t}=i,e=Date.now();try{(u=t.onStart)==null||u.call(t,n,r);let o=await a(n),V=Date.now()-e;if((f=t.onEnd)==null||f.call(t,n,V,o,r),o!=null&&o.err){let y=new Error(o.err);throw(p=t.onError)==null||p.call(t,n,y,o,r),y}return o.result!==void 0?o.result:o}catch(o){throw(c=t.onError)==null||c.call(t,n,o,null,r),o}}async function Q(n){let r=await fetch(i.url,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:n})});if(!r.ok)throw new Error(`VQL request failed: ${r.status}`);return await r.json()}typeof window!="undefined"&&(window.VQLClient={fetchVQL:d,defTransport:Q,cfg:i});return x(E);})();
